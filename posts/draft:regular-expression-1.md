---
title: 실무에서 바로 써먹는 정규표현식(1)
date: "2022-05-03"
summary: 실무에서 바로 써먹는 정규표현식
---

※ 이 글은 정규표현식을 사용해본 적은 있지만 정규표현식에 자신이 없는 개발자들을 대상으로 하고 있습니다.

※ 이 글을 읽고 나면 내가 원하는 정규표현식을 자유자재로 작성하여 사용할 수 있게 됩니다.

## I. 정규표현식이란

정규표현식이란 **문자열의 패턴을 표현하기 위한 작성법**입니다.

예를 들어 `0부터 9 사이에 있는 하나의 숫자` 라는 패턴을 정규표현식에서는 `0|1|2|3|4|5|6|7|8|9` , `[0-9]` 또는 `\d`로 나타낼 수 있습니다.

또한 `apple, tomato, pineapple이 모두 포함된 문자열`은 `(?=.*apple)(?=.*tomato)(?=.*pineapple)` 으로, `tomato가 3번 이상 존재하는 문자열` 은 `(.*\btomato\b.*){3}` 으로 나타낼 수 있습니다.

즉, 문자열의 패턴을 컴퓨터가 이해할 수 있게끔 명확하게 표현하는 방법이 정규표현식입니다.

주어진 문자열이 정규표현식에 포함되는 경우, 주어진 문자열이 정규표현식에 일치한다 라고 합니다.

예를 들어, `a` 는 숫자가 아니므로 `0|1|2|3|4|5|6|7|8|9` 에 일치하지 않지만 `3`은 `0|1|2|3|4|5|6|7|8|9`에 일치합니다.

## II. 정규표현식이 사용되는 상황

자바스크립트에서 정규표현식의 가장 기본적인 사용법은 주어진 문자열에서 정규표현식으로 기술되는 패턴을 검색하는 것입니다.

패턴을 검색한 결과가 있다면 주어진 문자열이 정규표현식에 일치하는 것을 알 수 있습니다.
패턴을 검색한 결과가 없다면 주어진 문자열에 정규표현식으로 표현되는 패턴에 존재하지 않는다, 즉 주어진 문자열이 정규표현식에 일치하지 않는 것을 알 수 있습니다.

<!-- 문자열 검증 -->

부분 문자열 검색 -> 전체 문자열 검증
부분 문자열 추출
부분 문자열 치환
부분 문자열 삭제

문자열을 검증하는 역할 - 완전 일치
문자열 중에 정규표현식에 일치하는 부분 문자열이 있는가 - 부분 일치
응용1) 일치하는 부분 문자열을 추출
응용2) 일치하는 문자열을 다른 문자열로 치환

## III. 정규표현식 기본 연산자

1. 접합 연산자
   주어진 문자열에 "a"가 존재하는지 알고 싶다 → /a/

주어진 문자열에 "ab"가 존재하는지 알고 싶다 → /ab/

접합 연산자는 별도의 기호가 없음

2. 선택 연산자: |
   /a|b/ 는 a 또는 b에 일치하는 것을 의미

/a(b|c)/ == /ab/ 또는 /ac/

접합 연산자가 선택 연산자보다 우선순위가 높기 때문에 괄호로 우선순위를 명확히 표현해줘야 한다. (괄호는 캡쳐링의 기능도 있지만 이는 추후에 설명)

/ab|c/ 는 /ab/ 또는 /c/ 를 의미한다

/a(b|cd/) 등 선택 연산자 전후의 길이가 같을 필요X

/abc(|def)/ == /abc/ 또는 /abcdef/ (| 는 공백을 나타내며, 선택연산자의 operand에 포함시킬 수 있다.

3. 반복 연산자: \*
   연산자 앞의 문자가 0번 이상 반복됨을 나타낸다.

/a\*/ === //, /a/, /aa/, /aaa/, ...

※ Syntax Sugar

-

?

`{3,4}`{3,} `{3}`{,4}

[a-z], \d, \D, \w, \s, ...

## IV. 예시1) 현금영수증 발급시 발행번호 가운데자리수 마스킹 처리

정규표현식 기본연산자 3개만 알더라도 왠만한 건 다 작성할 수 있다.

상황 설명) 현금영수증 발급시 휴대폰 번호 10,11자리수 또는 사업자 등록번호 10자리숫자를 필요하다.
휴대폰번호 10자리: 017-123-4567 → 0171234567

휴대폰번호 11자리: 010-1234-5678 → 01012345678

사업자 등록번호 10자리: 875-44-65785 → 8754465785

유저가 입력한 현금영수증 발급번호가 문자열으로 주어질 때 가운데 자리수만 마스킹 처리를 하고 싶다
0171234567 → 017\*\*\*4567

01012345678 → 010\*\*\*\*5678

8754465785 → 875\*\*65785

요구사항 쪼개기

1. 휴대폰번호와 사업자등록번호를 구분한다

2. 휴대폰번호 10자리와 11자리를 구분한다

=> 추가 설명 필요: 메타문자(^,$, \b, \B), 치환

## V. 응용 문법: 탐색, 캡쳐

## VI. 예시2)

## VII. 마무리
